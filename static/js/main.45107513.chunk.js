(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){},118:function(e,t,a){},132:function(e,t,a){},177:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),o=a(3),l=a.n(o),r=(a(93),a(179)),c=a(10),i=a(11),p=a(13),h=a(12),u=a(14),d=a(7),m=a(74),f=a.n(m),b=a(75),g=a.n(b),y=(a(95),a(19)),v=a.n(y),E=(a(116),a(118),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){this.props.change(e.target.value)}},{key:"render",value:function(){var e;return this.props.searchPerformed&&(e={top:"35px",left:"636px"}),s.a.createElement("select",{style:e,className:"dropdown",onChange:this.handleChange},s.a.createElement("option",{defaultValue:!0,hidden:!0},"Collections"),this.props.options)}}]),t}(n.Component)),k=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).rawdata=null,e.col=null,e.state={query:{},collections:[]},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.get("https://api.unsplash.com/collections/featured/?client_id=ee0cfec3935724767faea6ea67dbc7e8879dd4884d6f9b32393b95fd57372ac1").then(function(t){e.rawdata=t.data;for(var a=[],n=0;n<10;n++)a.push(s.a.createElement("option",{id:t.data[n].id,key:t.data[n].title},t.data[n].title));e.setState({collections:a})}).catch(function(e){})}},{key:"getCollectionID",value:function(e){var t;this.rawdata.forEach(function(a){a.title===e&&(t=a.id)}),this.col=t}},{key:"handleSubmit",value:function(e){""!==this.refs.searchbox.value&&this.setState({query:{searchkey:this.refs.searchbox.value,collection:this.col}},function(){this.props.performSearch(this.state.query)}),e.preventDefault()}},{key:"render",value:function(){var e,t;return this.props.searchPerformed&&(e={top:"35px",left:"206px"},t={top:"36px",left:"1065px"}),s.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},s.a.createElement("input",{className:"searchbox",type:"text",ref:"searchbox",placeholder:"Query",style:e}),s.a.createElement(E,{options:this.state.collections,change:this.getCollectionID.bind(this),searchPerformed:this.props.searchPerformed}),s.a.createElement("button",{style:t,className:"sBtn",onClick:this.handleSubmit.bind(this)},"SEARCH"))}}]),t}(n.Component),O=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).logoClick=function(){e.props.goHome()},e.state={query:{},imgs:[]},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleSearch",value:function(e){this.props.request(e.searchkey,e.collection)}},{key:"render",value:function(){var e,t,a;return this.props.searchPerformed?(e={height:"120px"},t={opacity:"0"},a={top:"25px",left:"0px"}):(e={height:"100vh"},t={opacity:"1"}),s.a.createElement("div",{className:"workblock",style:e},s.a.createElement("div",{className:"Logo",style:a},s.a.createElement("img",{src:f.a,className:"LogoRectangle",alt:"My Rec",onClick:this.logoClick}),s.a.createElement("img",{src:g.a,className:"MyLogo",alt:"My Logo",onClick:this.logoClick}),s.a.createElement("h4",{className:"title",style:t},s.a.createElement("strong",null,"image")," search")),s.a.createElement(k,{className:"q",performSearch:this.handleSearch.bind(this),searchPerformed:this.props.searchPerformed}))}}]),t}(n.Component),j=a(76),x=a.n(j),C=a(37),w=(a(132),a(80)),S=a.n(w),P=a(86),N=(a(175),function(e){function t(){return Object(c.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement("span",{className:"property"},"Make: "),this.props.data.make),s.a.createElement("p",null,s.a.createElement("span",{className:"property"},"Model: "),this.props.data.model),s.a.createElement("p",null,s.a.createElement("span",{className:"property"},"Exposure: "),this.props.data.exposure_time),s.a.createElement("p",null,s.a.createElement("span",{className:"property"},"Aperture: "),this.props.data.aperture),s.a.createElement("p",null,s.a.createElement("span",{className:"property"},"Focal Length: "),this.props.data.focal_length),s.a.createElement("p",null,s.a.createElement("span",{className:"property"},"ISO: "),this.props.data.iso))}}]),t}(n.Component)),M=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).download=a.download.bind(Object(d.a)(Object(d.a)(a))),null!==a.props.appstate.opendata.exif.model?a.state={hasExif:!0}:a.state={hasExif:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"download",value:function(){v.a.get(this.props.appstate.opendata.links.download_location+"/?client_id=ee0cfec3935724767faea6ea67dbc7e8879dd4884d6f9b32393b95fd57372ac1",{params:{}}).then(function(e){var t=document.createElement("a");t.href=e.data.url,t.setAttribute("download","img.jpg"),document.body.appendChild(t),t.click()}).catch(function(e){})}},{key:"render",value:function(){return s.a.createElement(C.a,{open:this.props.appstate.open,onClose:this.props.close,center:!0},this.props.appstate.open&&s.a.createElement("div",null,s.a.createElement("img",{src:this.props.appstate.opendata.urls.small,alt:"none"}),s.a.createElement("div",{className:"midModal"},s.a.createElement("div",{className:"userdeets"},s.a.createElement("img",{src:this.props.appstate.userthumburls.small,alt:"u",style:{float:"left",left:"7px",position:"relative",top:"7px",borderRadius:"50%"}}),s.a.createElement("div",{style:{float:"left",marginLeft:"16px"}},s.a.createElement("h4",{style:{position:"relative",bottom:"20px"}},this.props.appstate.opendata.user.name),s.a.createElement("p",{style:{position:"relative",bottom:"43px"}},"@",this.props.appstate.opendata.user.username))),s.a.createElement("a",{className:"download",onClick:this.download},s.a.createElement("img",{src:S.a,style:{float:"left",marginLeft:"15px",position:"relative",top:"15px"},alt:"dl"}),s.a.createElement("p",{style:{float:"right",marginRight:"15px"}},"Download"))),s.a.createElement(P.a,{overlay:this.state.hasExif&&s.a.createElement(N,{data:this.props.appstate.opendata.exif}),placement:"left"},s.a.createElement("p",{className:"camsettingstext"},"Camera settings"))))}}]),t}(n.Component),R=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).goHome=function(){a.setState({searchPerformed:!1})},a.onOpenModal=a.onOpenModal.bind(Object(d.a)(Object(d.a)(a))),a.onCloseModal=a.onCloseModal.bind(Object(d.a)(Object(d.a)(a))),a.getModalPhoto=a.getModalPhoto.bind(Object(d.a)(Object(d.a)(a))),a.state={access:"/?client_id=ee0cfec3935724767faea6ea67dbc7e8879dd4884d6f9b32393b95fd57372ac1",key:"",collection:0,total:0,imgs:[],searchPerformed:!1,noResults:!1,noResultsMessage:"",open:!1,opendata:{urls:{small:""},links:{download:""},user:{name:"",username:""},exif:{}},downloadurl:"",userthumburls:{small:""},ratelimit:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"onOpenModal",value:function(){this.setState({open:!0})}},{key:"onCloseModal",value:function(){this.setState({open:!1,openID:0,opendata:{urls:{small:""},links:{download:""},user:{name:"",username:""}},userthumburls:{small:""}})}},{key:"getModalPhoto",value:function(e){var t=this;v.a.get("https://api.unsplash.com/photos/"+e+"/?client_id=ee0cfec3935724767faea6ea67dbc7e8879dd4884d6f9b32393b95fd57372ac1",{params:{}}).then(function(e){t.setState({opendata:e.data}),t.getUserThumb(e.data.user.username),t.onOpenModal()}).catch(function(e){e.toString().includes("403")&&t.setState({ratelimit:!0})})}},{key:"downloadPhoto",value:function(){}},{key:"getUserThumb",value:function(e){var t=this;v.a.get("https://api.unsplash.com/users/"+e+"/?client_id=ee0cfec3935724767faea6ea67dbc7e8879dd4884d6f9b32393b95fd57372ac1",{params:{}}).then(function(e){t.setState({userthumburls:e.data.profile_image})}).catch(function(e){})}},{key:"processRequest",value:function(e,t,a){var n=this;v.a.get("https://api.unsplash.com/search/photos/?client_id=ee0cfec3935724767faea6ea67dbc7e8879dd4884d6f9b32393b95fd57372ac1",{params:{query:e,collections:t,per_page:30,page:a}}).then(function(a){n.setState({total:a.data.total}),n.postSearch(e,a.data,t)}).catch(function(e){e.toString().includes("403")&&n.setState({ratelimit:!0})})}},{key:"setRequest",value:function(e,t){this.mysearch=e,this.mycollection=t,this.mypage=1,this.processRequest(e,t,1)}},{key:"postSearch",value:function(e,t,a){var n,s;s=t.results,this.setState({imgs:s,searchPerformed:!0}),0===s.length?(n="No results for "+e,null!==a&&(n+=" in this collection - broaden your search maybe?"),this.setState({noResults:!0,noResultsMessage:n})):this.setState({noResults:!1})}},{key:"handlePageChange",value:function(e){this.mypage=e,this.processRequest(this.mysearch,this.mycollection,e)}},{key:"render",value:function(){var e,t,a,n=this;return this.state.searchPerformed?(t={display:"none"},a={display:"block"},e={display:"block"},this.state.noResults&&(e={display:"none"},t={textAlign:"center",display:"block"})):(a={display:"none"},e={display:"none"}),s.a.createElement("div",null,s.a.createElement(O,{request:this.setRequest.bind(this),searchPerformed:this.state.searchPerformed,goHome:this.goHome}),s.a.createElement("div",{className:"masonry",style:a},this.state.imgs.map(function(e){return s.a.createElement("a",{key:e.id,className:"item",onClick:function(){return n.getModalPhoto(e.id)}},s.a.createElement("img",{src:e.urls.thumb,alt:""}))})),s.a.createElement("div",{style:e},s.a.createElement(x.a,{className:"pagination",activePage:this.mypage,itemsCountPerPage:30,totalItemsCount:this.state.total,pageRangeDisplayed:8,onChange:this.handlePageChange.bind(this)})),s.a.createElement("h1",{style:t},this.state.noResultsMessage),s.a.createElement(M,{appstate:this.state,close:this.onCloseModal}),s.a.createElement(C.a,{open:this.state.ratelimit,onClose:function(){return n.setState({ratelimit:!1})}},s.a.createElement("p",null,"Woah, slow down there, turbo! That's more requests than you're allowed by the API. Enhance your calm. ")))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(r.a,null,s.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},74:function(e,t,a){e.exports=a.p+"static/media/logorec.82840fda.svg"},75:function(e,t,a){e.exports=a.p+"static/media/logo.19361864.svg"},80:function(e,t,a){e.exports=a.p+"static/media/dl.e10918b1.svg"},87:function(e,t,a){e.exports=a(177)},93:function(e,t,a){},95:function(e,t,a){}},[[87,2,1]]]);
//# sourceMappingURL=main.45107513.chunk.js.map